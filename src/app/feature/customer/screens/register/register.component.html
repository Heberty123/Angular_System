<div class="container-customer">
    <button mat-flat-button color="primary"
        [disabled]="!isCustomerEmpty()"
        (click)="reset()"
        class="btt-new">
        Novo
    </button>
    <form-customer [formGroup]="customerFG" />
    <button 
        mat-flat-button
        color="primary"
        [disabled]="customerFG.invalid || isCustomerEmpty()"
        (click)="saveCustomer()">
        Salvar
    </button>
</div>



<div class="container">
    <mat-stepper #stepper class="stepper">

        <mat-step label="EndereÃ§os">
            <form-address 
                [formGroup]="addressFG"
                (ngSubmit)="saveAddress()"/>
            <list-address [data]="addresses" [editable]="true" 
                (updateById)="updateById($event)"
                (removeById)="removeAddress($event)" />
        </mat-step>

        <mat-step label="Dependentes" >  
            <div class="dependent-box">
                <div class="section-form-dependent">
                    <form-customer [formGroup]="dependentFG"/>
                    <button 
                        mat-raised-button color="primary"
                        [disabled]="dependentFG.invalid"
                        (click)="saveDependent()">Salvar</button>
                </div>
                
                <div class="section-dependent-bttns">
                    <button mat-raised-button color="primary" (click)="toggleSelectable(tdependents)">
                        {{  tdependents.selectable ? 'cancelar' : 'selecionar'  }}
                    </button>
                    <button mat-raised-button color="warn" [disabled]="!tdependents.hasSelected()" (click)="deleteDependents(tdependents)">
                        Apagar
                    </button>
                </div>
    
                <table-entities [data]="dependents"#tdependents/>
            </div>
        </mat-step>
        
    </mat-stepper>

    <div class="block" [class.unlock]="isCustomerEmpty()"></div>
</div>